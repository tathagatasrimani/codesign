vitis_test_sweep:
  base_cfg: vitis_test
  args:
    benchmark: gemm
    arch_opt_pipeline: streamhls
    pytorch: True  
    min_dsp: 5
    model_cfg: sweep_cfg
    solver: cvxpy
    opt_pipeline: fit

vitis_test_sweep_brute_force:
  base_cfg: vitis_test_sweep
  args:
    opt_pipeline: brute_force
    fixed_area_increase_pattern: True
    model_cfg: sweep_brute_force_cfg

vitis_test_sweep_basic:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic

vitis_test_sweep_basic_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MultiHeadSelfAttention

vitis_test_sweep_basic_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: FeedForward

vitis_test_sweep_basic_llama_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: LlamaAttention

vitis_test_sweep_basic_llama_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: LlamaFeedForward

vitis_test_sweep_basic_llama_prefill_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: LlamaPrefillAttention

vitis_test_sweep_basic_llama_decode_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: LlamaDecodeAttention

vitis_test_sweep_basic_llama_decode_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: LlamaDecodeFeedForward

vitis_test_sweep_basic_inference:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 7680
    benchmark: Inference

# ---------------------------------------------------------------------------
# DeepSeek-V3 sweep configs
# ---------------------------------------------------------------------------
vitis_test_sweep_deepseekv3_prefill_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: DeepSeekPrefillAttention
    #streamhls_opt_level: 3  # large Perm crashes perm solver; run parallelization only

vitis_test_sweep_deepseekv3_prefill_dense_ffn:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: DeepSeekPrefillDenseFFN
    #streamhls_opt_level: 2  # small Perm=221184; run permutation only (large Paral unsafe)

vitis_test_sweep_deepseekv3_prefill_moe:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: DeepSeekPrefillMoE
    #streamhls_opt_level: 3  # Perm=12.2e9 > INT32_MAX crashes perm solver; run parallelization only

vitis_test_sweep_deepseekv3_decode_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: DeepSeekDecodeAttention

vitis_test_sweep_deepseekv3_decode_dense_ffn:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: DeepSeekDecodeDenseFFN

vitis_test_sweep_deepseekv3_decode_moe:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: DeepSeekDecodeMoE
    #streamhls_opt_level: 2  # small Perm=262144; run permutation only (large Paral=1.4e19 unsafe)

# ---------------------------------------------------------------------------
# Mixtral 8x7B sweep configs
# ---------------------------------------------------------------------------
vitis_test_sweep_mixtral_prefill_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MixtralPrefillAttention
    #streamhls_opt_level: 3  # large Perm=9.6e18 crashes perm solver; run parallelization only

vitis_test_sweep_mixtral_prefill_moe:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MixtralPrefillMoE
    #streamhls_opt_level: 2  # small Perm=221184; run permutation only (large Paral unsafe)

vitis_test_sweep_mixtral_decode_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MixtralDecodeAttention
    #streamhls_opt_level: 3  # perm solver crashes with SmallVector bug in populateNodeInfo; run parallelization only

vitis_test_sweep_mixtral_decode_moe:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: MixtralDecodeMoE

# ---------------------------------------------------------------------------
# V-JEPA sweep configs
# ---------------------------------------------------------------------------
vitis_test_sweep_vjepa_spatial_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: VJEPASpatialAttention
    #streamhls_opt_level: 3  # large Perm=6.4e18 crashes perm solver; run parallelization only

vitis_test_sweep_vjepa_temporal_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: VJEPATemporalAttention
    #streamhls_opt_level: 3  # large Perm=3.1e16 crashes perm solver; run parallelization only

vitis_test_sweep_vjepa_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: VJEPAFeedForward
    #streamhls_opt_level: 2  # small Perm=9216; run permutation only (large Paral=9.4e18 unsafe)

vitis_test_sweep_vjepa_predictor_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: VJEPAPredictorAttention
    #streamhls_opt_level: 3  # large Perm=3.1e16 crashes perm solver; Paral=0 trivial for parallelization

vitis_test_sweep_vjepa_predictor_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: VJEPAPredictorFeedForward
    #streamhls_opt_level: 4  # disable combined optimization to avoid stoi overflow

# ---------------------------------------------------------------------------
# OpenVLA sweep configs
# ---------------------------------------------------------------------------
vitis_test_sweep_openvla_dino_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLADinoAttention

vitis_test_sweep_openvla_dino_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLADinoFeedForward

vitis_test_sweep_openvla_vision_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLAVisionAttention

vitis_test_sweep_openvla_vision_projection:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLAVisionProjection

vitis_test_sweep_openvla_vision_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLAVisionFeedForward

vitis_test_sweep_openvla_lm_prefill_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLALMPrefillAttention
    #streamhls_opt_level: 3  # large Perm=6.2e16 crashes perm solver; run parallelization only

vitis_test_sweep_openvla_lm_feedforward:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLALMFeedForward
    #streamhls_opt_level: 2  # small Perm=221184; run permutation only (large Paral=1.8e19 unsafe)

vitis_test_sweep_openvla_lm_decode_attention:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLALMDecodeAttention

# ---------------------------------------------------------------------------
# DeepSeek-V3 SMALL sweep configs (hidden=512, prompt_len=64, cache_len=64)
# benchmark = HLS source dir in src/benchmarks/vitis/
# class     = data.py key (overrides StreamHLS -k lookup)
# ---------------------------------------------------------------------------
vitis_test_sweep_deepseekv3_prefill_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: DeepSeekPrefillAttention
    class: DeepSeekPrefillAttentionSmall

vitis_test_sweep_deepseekv3_prefill_dense_ffn_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: DeepSeekPrefillDenseFFN
    class: DeepSeekPrefillDenseFFNSmall

vitis_test_sweep_deepseekv3_prefill_moe_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 150
    benchmark: DeepSeekPrefillMoE
    class: DeepSeekPrefillMoESmall

vitis_test_sweep_deepseekv3_decode_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: DeepSeekDecodeAttention
    class: DeepSeekDecodeAttentionSmall

vitis_test_sweep_deepseekv3_decode_dense_ffn_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: DeepSeekDecodeDenseFFN
    class: DeepSeekDecodeDenseFFNSmall

vitis_test_sweep_deepseekv3_decode_moe_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 150
    benchmark: DeepSeekDecodeMoE
    class: DeepSeekDecodeMoESmall

# ---------------------------------------------------------------------------
# Mixtral SMALL sweep configs (hidden=512, n_kv_heads=2, prompt_len=64)
# ---------------------------------------------------------------------------
vitis_test_sweep_mixtral_prefill_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MixtralPrefillAttention
    class: MixtralPrefillAttentionSmall

vitis_test_sweep_mixtral_prefill_moe_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MixtralPrefillMoE
    class: MixtralPrefillMoESmall

vitis_test_sweep_mixtral_decode_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: MixtralDecodeAttention
    class: MixtralDecodeAttentionSmall

vitis_test_sweep_mixtral_decode_moe_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: MixtralDecodeMoE
    class: MixtralDecodeMoESmall

# ---------------------------------------------------------------------------
# V-JEPA SMALL sweep configs (hidden=256, n_frames=4, pred_hidden=128)
# ---------------------------------------------------------------------------
vitis_test_sweep_vjepa_spatial_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: VJEPASpatialAttention
    class: VJEPASpatialAttentionSmall

vitis_test_sweep_vjepa_temporal_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: VJEPATemporalAttention
    class: VJEPATemporalAttentionSmall

vitis_test_sweep_vjepa_feedforward_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: VJEPAFeedForward
    class: VJEPAFeedForwardSmall

vitis_test_sweep_vjepa_predictor_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: VJEPAPredictorAttention
    class: VJEPAPredictorAttentionSmall

vitis_test_sweep_vjepa_predictor_feedforward_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: VJEPAPredictorFeedForward
    class: VJEPAPredictorFeedForwardSmall

# ---------------------------------------------------------------------------
# OpenVLA SMALL sweep configs (dino/vis=256, lm=512, n_patches=64)
# ---------------------------------------------------------------------------
vitis_test_sweep_openvla_dino_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLADinoAttention
    class: OpenVLADinoAttentionSmall

vitis_test_sweep_openvla_dino_feedforward_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLADinoFeedForward
    class: OpenVLADinoFeedForwardSmall

vitis_test_sweep_openvla_vision_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLAVisionAttention
    class: OpenVLAVisionAttentionSmall

vitis_test_sweep_openvla_vision_feedforward_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLAVisionFeedForward
    class: OpenVLAVisionFeedForwardSmall

vitis_test_sweep_openvla_vision_projection_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLAVisionProjection
    class: OpenVLAVisionProjectionSmall

vitis_test_sweep_openvla_lm_prefill_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLALMPrefillAttention
    class: OpenVLALMPrefillAttentionSmall

vitis_test_sweep_openvla_lm_feedforward_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 20
    benchmark: OpenVLALMFeedForward
    class: OpenVLALMFeedForwardSmall

vitis_test_sweep_openvla_lm_decode_attention_small:
  base_cfg: vitis_test_sweep
  args:
    model_cfg: sweep_basic_cfg
    fixed_area_increase_pattern: True
    solver: basic
    min_dsp: 40
    benchmark: OpenVLALMDecodeAttention
    class: OpenVLALMDecodeAttentionSmall

run_sweep_mvs_1_spice:
  base_cfg: default
  args:
    model_cfg: mvs_1_spice_cfg